{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/App.vue?02ef","webpack:///./src/views/App.vue?b406","webpack:///./src/views/ViewColumn.vue?28ea","webpack:///./src/vendor/renderjson.js","webpack:///./src/vendor/leaflet.awesome-markers.ts","webpack:///./src/views/ResultsSummary.vue?71a8","webpack:///./src/views/ResultsSummary.vue","webpack:///./src/views/ResultsSummary.vue?496e","webpack:///./src/views/ResultsSummary.vue?7f01","webpack:///./src/views/ViewColumn.vue","webpack:///./src/views/ViewColumn.vue?0d40","webpack:///./src/views/ViewColumn.vue?c5f5","webpack:///./src/views/PointModal.vue?5e9c","webpack:///./src/views/PointModal.vue","webpack:///./src/views/PointModal.vue?ee4f","webpack:///./src/views/PointModal.vue?2938","webpack:///./src/views/App.vue","webpack:///./src/views/App.vue?cae9","webpack:///./src/views/App.vue?003b","webpack:///./src/main-api.ts","webpack:///./src/views/ResultsSummary.vue?5801","webpack:///./src/views/ViewColumn.vue?47e0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","preventDefault","onSubmit","_l","onChange","model","structured","callback","$$v","$set","expression","_e","text","ids","pointLabel","staticStyle","pointPlaceholderText","isPointRequired","onPointStringInputChange","pointStr","directives","rawName","modifiers","doGeolocate","isDoingGeolocation","pointOptions","pointOptionsChanged","selectedPointOption","hosts","tagsChanged","host","_v","prettyExtraParams","onDebugChange","debug","onEndpointChange","endpoint","prettyQueryPath","response","url","body","updateHashFromChild","pointModalShown","ref","pointLat","pointLng","updatePoint","staticRenderFns","numHosts","geocoding","message","index","_s","features","featureClicked","center","mapOptions","tileUrl","attribution","copyJson","copyEsQuery","runAsStructuredQuery","themetext","spans","arguments","append","span","Array","el","a","constructor","concat","appendChild","prepend","child","insertBefore","firstChild","isempty","obj","pl","keys","txt","document","createTextNode","classname","createElement","className","A","href","onclick","e","stopPropagation","_renderjson","json","indent","dont_indent","show_level","options","path","_renderjsonhelper","wrapper","id","isArray","forEach","my_indent","disclosure","open","placeholder","close","type","builder","content","empty","show","parentNode","style","display","max_string_length","substr","JSON","stringify","Number","String","Boolean","Date","indexOf","collapse_msg","as","replacer","HTMLElement","property_list","os","k","last","sort_objects","sort","key_formatter","renderjson","idPrefix","v","pre","show_to_level","set_icons","hide","set_show_to_level","level","toLowerCase","MAX_VALUE","set_max_string_length","set_sort_objects","sort_bool","set_replacer","set_key_formatter","set_collapse_msg","set_property_list","prop_list","set_show_by_default","len","AwesomeMarkers","Icon","extend","iconSize","iconAnchor","popupAnchor","shadowAnchor","shadowSize","prefix","spinClass","extraClasses","icon","markerColor","iconColor","initialize","setOptions","createIcon","div","innerHTML","styles","color","html","bgPos","backgroundPosition","x","y","_setIconStyles","_createInner","iconClass","iconSpinClass","iconColorClass","iconColorStyle","spin","img","anchor","size","divideBy","marginLeft","marginTop","width","height","createShadow","ExportAwesomeMarkers","feature","properties","iconForLayer","layer","label","add","$emit","components","FontAwesomeIcon","component","icons","parseHTML","tmp","implementation","createHTMLDocument","children","makeLink","maybeLinkifyGid","linkText","startsWith","parts","split","filepath","join","OSM_PREFX","gidParts","geonameId","renderjsonReplacer","isDebug","containingObject","placeLink","location","pathname","encodeURIComponent","gid","markers","default","geonames","wof","openstreetmap","openaddresses","quattroshapes","focus","renderedJson","summary","scrollWheelZoom","contextmenu","contextmenuWidth","contextmenuItems","latlng","lat","lng","updateHash","geoJsonLayer","bounds","getBounds","pad","getMap","fitBounds","console","error","protocol","includes","$refs","invalidateSize","centerFeatures","stateChangingButton","states","stateName","title","onClick","btn","map","getContainer","classList","toggle","contains","outerHeight","addTo","addBoundingBoxes","addMarkers","geojson","pointToLayer","f","latlon","source","popupHtml","querySelector","addEventListener","zoomTo","bindPopup","query","focusPoint","marker","stroke","opacity","dashArray","fillColor","fillOpacity","weight","bboxLayer","feat","bbox","rect","addLayer","geometry","setView","getCenter","getZoomLevelForLayer","previouslyHighlightedElemented","getElementsByClassName","highlightedFeature","remove","elem","getElementById","scrollIntoView","mymap","mapObject","jsonToCopy","copyName","copyText","hiddenCopyInput","select","setSelectionRange","execCommand","$bvToast","toast","autoHideDelay","appendToast","variant","toaster","copyHelper","esQuery","hasParsedQuery","parsedParams","parsed_text","street","housenumber","address","unit","state","region","city","locality","subject","venue","urlSearchParams","URLSearchParams","toString","esReqEntries","debugEntry","ES_req","filter","ResultsSummary","zoom","pointLatLng","defaultCenter","addMarker","event","setTimeout","use","config","productionTip","LMap","LTileLayer","LMarker","Default","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","LNG_LAT_OPTION","LAT_LNG_OPTION","point","autocomplete","queryPath","extraParams","undefined","neighbourhood","borough","county","postalcode","country","responses","getKey","domain","sections","localStorage","getItem","info","pointModal","newHosts","setItem","h","newOption","params","delete","parsePoint","_prefix","lon","parseFloat","trim","toFixed","structuredKey","isBuiltForSpa","hash","_hash","decodeURIComponent","parseQuery","endpointUsesText","endpointUsesIds","isBuiltForApi","parseHash","getPathFromUrl","isStructured","set","endpointUsesPoint","endpointUsesFocus","parseToParts","match","alert","Error","part1","part2","pointChanged","history","pushState","$forceUpdate","getParams","responsePromises","_host","endsWith","substring","urlWithParams","fetch","method","headers","Accept","then","status","catch","err","warn","errors","bodyString","Promise","all","navigator","geolocation","getCurrentPosition","pos","crd","coords","latitude","longitude","replace","humanReadableExtraParams","humanReadablePath","PointModal","VueTagsInput","ViewColumn","render","App","props","$mount"],"mappings":"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","file":"js/app.d3370880.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"18d3\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-form',{staticClass:\"w-100 px-4 pb-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[(_vm.isStructured)?_c('div',_vm._l((_vm.structured),function(value,name){return _c('b-form-group',{key:name,attrs:{\"label\":name,\"label-cols-sm\":\"2\"}},[_c('b-form-input',{staticClass:\"w-100\",attrs:{\"placeholder\":name},on:{\"change\":_vm.onChange},model:{value:(_vm.structured[name]),callback:function ($$v) {_vm.$set(_vm.structured, name, $$v)},expression:\"structured[name]\"}})],1)}),1):_vm._e(),(_vm.endpointUsesText)?_c('b-form-group',{attrs:{\"label\":\"Query (text):\",\"label-for\":\"input-text\",\"label-cols-sm\":\"2\"}},[_c('b-form-input',{staticClass:\"w-100\",attrs:{\"id\":\"input-text\",\"required\":\"\",\"placeholder\":\"London, UK\"},on:{\"change\":_vm.onChange},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1):_vm._e(),(_vm.endpointUsesIds)?_c('b-form-group',{attrs:{\"label\":\"Ids (comma separated):\",\"label-for\":\"input-ids\",\"label-cols-sm\":\"2\"}},[_c('b-form-input',{staticClass:\"w-100\",attrs:{\"id\":\"input-ids\",\"required\":\"\",\"placeholder\":\"openstreetmap:venue:way/5013364,whosonfirst:borough:421205771\"},on:{\"change\":_vm.onChange},model:{value:(_vm.ids),callback:function ($$v) {_vm.ids=$$v},expression:\"ids\"}})],1):_vm._e(),(_vm.endpointUsesPoint)?_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":_vm.pointLabel,\"label-for\":\"input-point\",\"label-cols-sm\":\"2\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('b-form-input',{attrs:{\"id\":\"input-point\",\"placeholder\":_vm.pointPlaceholderText,\"required\":_vm.isPointRequired},on:{\"change\":_vm.onPointStringInputChange},model:{value:(_vm.pointStr),callback:function ($$v) {_vm.pointStr=$$v},expression:\"pointStr\"}}),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-point\",modifiers:{\"modal-point\":true}}],staticClass:\"ml-3\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'map']}})],1),(_vm.isGeolocationSupported)?_c('b-button',{staticClass:\"ml-3\",on:{\"click\":_vm.doGeolocate}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'crosshairs'],\"spin\":_vm.isDoingGeolocation}})],1):_vm._e(),_c('b-form-radio-group',{staticClass:\"ml-3 pointButtons\",attrs:{\"options\":_vm.pointOptions,\"buttons\":\"\",\"button-variant\":\"outline-secondary\"},on:{\"change\":_vm.pointOptionsChanged},model:{value:(_vm.selectedPointOption),callback:function ($$v) {_vm.selectedPointOption=$$v},expression:\"selectedPointOption\"}})],1)]):_vm._e(),_c('b-form-group',{attrs:{\"id\":\"input-group-5\",\"label\":\"Hosts\",\"label-for\":\"input-hosts\",\"label-cols-sm\":\"2\"}},[_c('vue-tags-input',{attrs:{\"id\":\"input-hosts\",\"tags\":_vm.hosts,\"placeholder\":\"Add Host\"},on:{\"tags-changed\":_vm.tagsChanged},model:{value:(_vm.host),callback:function ($$v) {_vm.host=$$v},expression:\"host\"}}),(_vm.hosts.length === 0)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\" Please add at least one host \")]):_vm._e()],1),_c('b-form-group',{attrs:{\"label\":\"Extra params\",\"label-for\":\"input-extra-params\",\"label-cols-sm\":\"2\"}},[_c('b-form-input',{attrs:{\"id\":\"input-extra-params\",\"placeholder\":\"debug=true&foo=bar&baz=bat\"},on:{\"change\":_vm.onChange},model:{value:(_vm.prettyExtraParams),callback:function ($$v) {_vm.prettyExtraParams=$$v},expression:\"prettyExtraParams\"}})],1),_c('div',{staticClass:\"form-row form-group\",attrs:{\"role\":\"group\"}},[_c('label',{staticClass:\"col-sm-2 col-form-label\"},[_vm._v(\"Debug\")]),_c('div',{staticClass:\"col-sm-10 d-flex flex-wrap\"},[_c('b-form-radio',{attrs:{\"value\":\"0\"},on:{\"change\":_vm.onDebugChange},model:{value:(_vm.debug),callback:function ($$v) {_vm.debug=$$v},expression:\"debug\"}},[_vm._v(\"Off\")]),_c('b-form-radio',{attrs:{\"value\":\"1\"},on:{\"change\":_vm.onDebugChange},model:{value:(_vm.debug),callback:function ($$v) {_vm.debug=$$v},expression:\"debug\"}},[_vm._v(\"With Elastic Request\")]),_c('b-form-radio',{attrs:{\"value\":\"2\"},on:{\"change\":_vm.onDebugChange},model:{value:(_vm.debug),callback:function ($$v) {_vm.debug=$$v},expression:\"debug\"}},[_vm._v(\"With Elastic Response\")]),_c('b-form-radio',{attrs:{\"value\":\"3\"},on:{\"change\":_vm.onDebugChange},model:{value:(_vm.debug),callback:function ($$v) {_vm.debug=$$v},expression:\"debug\"}},[_vm._v(\"With Elastic Explain\")])],1)]),_c('div',{staticClass:\"form-row form-group\",attrs:{\"role\":\"group\"}},[_c('label',{staticClass:\"col-sm-2 col-form-label\"},[_vm._v(\"Endpoint\")]),_c('div',{staticClass:\"col-sm-10 d-flex flex-wrap\"},[_c('b-form-radio',{attrs:{\"value\":\"/v1/search\"},on:{\"change\":_vm.onEndpointChange},model:{value:(_vm.endpoint),callback:function ($$v) {_vm.endpoint=$$v},expression:\"endpoint\"}},[_vm._v(\"Search\")]),_c('b-form-radio',{attrs:{\"value\":\"/v1/autocomplete\"},on:{\"change\":_vm.onEndpointChange},model:{value:(_vm.endpoint),callback:function ($$v) {_vm.endpoint=$$v},expression:\"endpoint\"}},[_vm._v(\"Autocomplete\")]),_c('b-form-radio',{attrs:{\"value\":\"/v1/reverse\"},on:{\"change\":_vm.onEndpointChange},model:{value:(_vm.endpoint),callback:function ($$v) {_vm.endpoint=$$v},expression:\"endpoint\"}},[_vm._v(\"Reverse Geocode\")]),_c('b-form-radio',{attrs:{\"value\":\"/v1/search/structured\"},on:{\"change\":_vm.onEndpointChange},model:{value:(_vm.endpoint),callback:function ($$v) {_vm.endpoint=$$v},expression:\"endpoint\"}},[_vm._v(\"Structured Geocode\")]),_c('b-form-radio',{attrs:{\"value\":\"/v1/place\"},on:{\"change\":_vm.onEndpointChange},model:{value:(_vm.endpoint),callback:function ($$v) {_vm.endpoint=$$v},expression:\"endpoint\"}},[_vm._v(\"Place\")])],1)]),_c('b-form-group',{attrs:{\"label\":\"Search path\",\"label-for\":\"input-search-path\",\"label-cols-sm\":\"2\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('b-form-input',{attrs:{\"id\":\"input-search-path\",\"required\":\"\",\"placeholder\":\"/v1/autocomplete?text=london\"},model:{value:(_vm.prettyQueryPath),callback:function ($$v) {_vm.prettyQueryPath=$$v},expression:\"prettyQueryPath\"}}),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Submit\")])],1)])],1)],1),_c('b-row',_vm._l((_vm.responses),function(response){return _c('ViewColumn',{key:response.url,attrs:{\"url\":response.url,\"body\":response.body,\"host\":response.host,\"numHosts\":_vm.hosts.length,\"updateHash\":_vm.updateHashFromChild}})}),1),_c('b-modal',{attrs:{\"id\":\"modal-point\",\"title\":_vm.pointLabel,\"ok-only\":\"\",\"ok-title\":\"Close\"},on:{\"shown\":_vm.pointModalShown}},[_c('PointModal',{ref:\"pointModal\",attrs:{\"lat\":_vm.pointLat,\"lng\":_vm.pointLng},on:{\"point-changed\":_vm.updatePoint}})],1),_c('back-to-top',{attrs:{\"text\":\"Scroll to top\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-col',{attrs:{\"cols\":12 / _vm.numHosts}},[_c('div',{staticClass:\"messages\"},[_vm._l((_vm.body.geocoding.errors),function(message,index){return _c('div',{key:index,staticClass:\"alert alert-danger\"},[_vm._v(\" \"+_vm._s(message)+\" \")])}),_vm._l((_vm.body.geocoding.warnings),function(message,index){return _c('div',{key:index,staticClass:\"alert alert-warning\"},[_vm._v(\" \"+_vm._s(message)+\" \")])})],2),_c('h4',{staticClass:\"code-title code-title-silver\",staticStyle:{\"position\":\"sticky\",\"top\":\"0px\",\"z-index\":\"100\",\"padding-left\":\"10px\"}},[_c('span',{staticClass:\"title\"},[_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.url}},[_vm._v(_vm._s(_vm.host))])])]),_c('div',{staticClass:\"response shadow\"},[(_vm.body.features && _vm.body.features.length)?_c('div',{staticClass:\"code rounded\"},[_c('ResultsSummary',{attrs:{\"features\":_vm.body.features},on:{\"feature-clicked\":_vm.featureClicked}})],1):_c('div',{staticClass:\"code rounded\"},[_vm._v(\" No Results \")])]),_c('div',{staticClass:\"assertion shadow rounded\",staticStyle:{\"margin-top\":\"-10px\",\"position\":\"sticky\",\"top\":\"30px\",\"z-index\":\"100\"}},[_c('l-map',{ref:\"mymap\",staticStyle:{\"height\":\"200px\"},attrs:{\"center\":_vm.center,\"zoom\":13,\"options\":_vm.mapOptions}},[_c('l-tile-layer',{attrs:{\"url\":_vm.tileUrl,\"attribution\":_vm.attribution}})],1)],1),(_vm.body)?_c('div',{staticClass:\"assertion shadow rounded\",staticStyle:{\"margin-top\":\"5px\"}},[_c('div',{staticClass:\"copyButtons\"},[_c('b-button',{staticClass:\"copyJson\",on:{\"click\":_vm.copyJson}},[_vm._v(\"Copy JSON\")]),(_vm.esQuery)?_c('b-button',{staticClass:\"copyEsQuery\",on:{\"click\":_vm.copyEsQuery}},[_vm._v(\"Copy ES Query\")]):_vm._e(),(_vm.hasParsedQuery)?_c('b-button',{staticClass:\"runAsStructuredQuery\",on:{\"click\":_vm.runAsStructuredQuery}},[_vm._v(\"Run as structured\")]):_vm._e()],1),_c('div',{ref:\"renderedJson\",staticClass:\"renderedJson\"})]):_vm._e(),_c('div',{staticClass:\"hiddenCopy\"},[_c('textarea',{ref:\"hiddenCopyInput\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\nNOTE(blackmad): this is a slightly hacked copy of https://github.com/caldwell/renderjson\n\nAmong other things,\n- it uses a two space indent\n- it linkifies the opening bracket of objects & arrays to collapse them,\n  rather than using the icons ⊕ and ⊖\n- it adds the ability to have a replacer function that can change how strings\n  are rendered, this is used to linkify GIDs in ViewColumn.vue\n- it adds the ability to linkify keys\n*/\n\n/* eslint-disable */\n// Copyright © 2013-2017 David Caldwell <david@porkrind.org>\n//\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY\n// SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION\n// OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN\n// CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n// Usage\n// -----\n// The module exports one entry point, the `renderjson()` function. It takes in\n// the JSON you want to render as a single argument and returns an HTML\n// element.\n//\n// Options\n// -------\n// renderjson.set_icons(\"+\", \"-\")\n//   This Allows you to override the disclosure icons.\n//\n// renderjson.set_show_to_level(level)\n//   Pass the number of levels to expand when rendering. The default is 0, which\n//   starts with everything collapsed. As a special case, if level is the string\n//   \"all\" then it will start with everything expanded.\n//\n// renderjson.set_max_string_length(length)\n//   Strings will be truncated and made expandable if they are longer than\n//   `length`. As a special case, if `length` is the string \"none\" then\n//   there will be no truncation. The default is \"none\".\n//\n// renderjson.set_sort_objects(sort_bool)\n//   Sort objects by key (default: false)\n//\n// renderjson.set_replacer(replacer_function)\n//   Equivalent of JSON.stringify() `replacer` argument when it's a function\n//\n// renderjson.set_collapse_msg(collapse_function)\n//   Accepts a function (len:number):string => {} where len is the length of the\n//   object collapsed.  Function should return the message displayed when a\n//   object is collapsed.  The default message is \"X items\"\n//\n// renderjson.set_property_list(property_list)\n//   Equivalent of JSON.stringify() `replacer` argument when it's an array\n//\n// Theming\n// -------\n// The HTML output uses a number of classes so that you can theme it the way\n// you'd like:\n//     .disclosure    (\"⊕\", \"⊖\")\n//     .syntax        (\",\", \":\", \"{\", \"}\", \"[\", \"]\")\n//     .string        (includes quotes)\n//     .number\n//     .boolean\n//     .key           (object key)\n//     .keyword       (\"null\", \"undefined\")\n//     .object.syntax (\"{\", \"}\")\n//     .array.syntax  (\"[\", \"]\")\n\nvar themetext = function(/* [class, text]+ */) {\n  var spans = [];\n  while (arguments.length)\n    spans.push(\n      append(\n        span(Array.prototype.shift.call(arguments)),\n        text(Array.prototype.shift.call(arguments))\n      )\n    );\n  return spans;\n};\nvar append = function(/* el, ... */) {\n  var el = Array.prototype.shift.call(arguments);\n  for (var a = 0; a < arguments.length; a++)\n    if (arguments[a].constructor == Array) append.apply(this, [el].concat(arguments[a]));\n    else el.appendChild(arguments[a]);\n  return el;\n};\nvar prepend = function(el, child) {\n  el.insertBefore(child, el.firstChild);\n  return el;\n};\nvar isempty = function(obj, pl) {\n  var keys = pl || Object.keys(obj);\n  for (var i in keys) if (Object.hasOwnProperty.call(obj, keys[i])) return false;\n  return true;\n};\nvar text = function(txt) {\n  return document.createTextNode(txt);\n};\nvar div = function() {\n  return document.createElement(\"div\");\n};\nvar span = function(classname) {\n  var s = document.createElement(\"span\");\n  if (classname) s.className = classname;\n  return s;\n};\nvar A = function A(txt, classname, callback) {\n  var a = document.createElement(\"a\");\n  if (classname) a.className = classname;\n  a.appendChild(text(txt));\n  a.href = \"#\";\n  a.onclick = function(e) {\n    if (e) e.stopPropagation();\n    if (e) e.preventDefault();\n    callback();\n    return false;\n  };\n  return a;\n};\n\nfunction _renderjson(json, indent, dont_indent, show_level, options, path) {\n  const el = _renderjsonhelper(json, indent, dont_indent, show_level, options, path);\n  const wrapper = span(\"\")\n  wrapper.id = path;\n  if (Array.isArray(el)) {\n    el.forEach((e) => wrapper.appendChild(e));\n  } else {\n    wrapper.appendChild(el);\n  }\n  return wrapper;\n}\n\n\nfunction _renderjsonhelper(json, indent, dont_indent, show_level, options, path) {\n  var my_indent = dont_indent ? \"\" : indent;\n\n  var disclosure = function(open, placeholder, close, type, builder) {\n    var content;\n    var empty = span(type);\n    var show = function() {\n      if (!content)\n        append(\n          empty.parentNode,\n          (content = prepend(\n            builder(),\n            A(open, type + \" syntax\", function() {\n              content.style.display = \"none\";\n              empty.style.display = \"inline\";\n            })\n          ))\n        );\n      content.style.display = \"inline\";\n      empty.style.display = \"none\";\n    };\n    append(\n      empty,\n      A(open, type + \" syntax\", show),\n      A(placeholder, null, show),\n      themetext(type + \" syntax\", close)\n    );\n\n    var el = append(span(), text(my_indent.slice(0, -1)), empty);\n    if (show_level > 0 && type != \"string\") show();\n    return el;\n  };\n\n  if (json === null) return themetext(null, my_indent, \"keyword\", \"null\");\n  if (json === void 0) return themetext(null, my_indent, \"keyword\", \"undefined\");\n\n  if (typeof json == \"string\" && json.length > options.max_string_length)\n    return disclosure(\n      '\"',\n      json.substr(0, options.max_string_length) + \" ...\",\n      '\"',\n      \"string\",\n      function() {\n        return append(span(\"string\"), themetext(null, my_indent, \"string\", JSON.stringify(json)));\n      }\n    );\n\n  if (typeof json != \"object\" || [Number, String, Boolean, Date].indexOf(json.constructor) >= 0)\n    // Strings, numbers and bools\n    return themetext(null, my_indent, typeof json, JSON.stringify(json));\n\n  if (json.constructor == Array) {\n    if (json.length == 0) return themetext(null, my_indent, \"array syntax\", \"[]\");\n\n    return disclosure(\"[\", options.collapse_msg(json.length), \"]\", \"array\", function() {\n      var as = append(span(\"array\"), themetext(\"array syntax\", \"\", null, \"\\n\"));\n      for (var i = 0; i < json.length; i++)\n        append(\n          as,\n          _renderjson(\n            options.replacer.call(json, i, json[i]),\n            indent + \"  \",\n            false,\n            show_level - 1,\n            options,\n            path + '.' + i\n          ),\n          i != json.length - 1 ? themetext(\"syntax\", \",\") : [],\n          text(\"\\n\")\n        );\n      append(as, themetext(null, indent, \"array syntax\", \"]\"));\n      return as;\n    });\n  }\n\n  if (json instanceof HTMLElement) {\n    return append(span(\"json\"),  text(my_indent), json);\n  }\n\n  // object\n  if (isempty(json, options.property_list))\n    return themetext(null, my_indent, \"object syntax\", \"{}\");\n\n  return disclosure(\"{\", options.collapse_msg(Object.keys(json).length), \"}\", \"object\", function() {\n    var os = append(span(\"object\"), themetext(\"object syntax\", \"\", null, \"\\n\"));\n    for (var k in json) var last = k;\n    var keys = options.property_list || Object.keys(json);\n    if (options.sort_objects) keys = keys.sort();\n    for (var i in keys) {\n      var k = keys[i];\n      if (!(k in json)) continue;\n      append(\n        os,\n        themetext(null, indent + \"  \", \"key\", '\"' + options.key_formatter.call(json, k) + '\"', \"object syntax\", \": \"),\n        _renderjson(\n          options.replacer.call(json, k, json[k], json),\n          indent + \"  \",\n          true,\n          show_level - 1,\n          options,\n          path + '.' + k\n        ),\n        k != last ? themetext(\"syntax\", \",\") : [],\n        text(\"\\n\")\n      );\n    }\n    append(os, themetext(null, indent, \"object syntax\", \"}\"));\n    return os;\n  });\n};\n\nexport default function renderjson(json, idPrefix) {\n  var options = new Object(renderjson.options);\n  options.replacer =\n    typeof options.replacer == \"function\"\n      ? options.replacer\n      : function(k, v) {\n          return v;\n        };\n  options.key_formatter =\n      typeof options.key_formatter == \"function\"\n        ? options.key_formatter\n        : function(v) {\n            return v;\n          };\n  var pre = append(\n    document.createElement(\"pre\"),\n    _renderjson(json, \"\", false, options.show_to_level, options, idPrefix || 'renderjson')\n  );\n  pre.className = \"renderjson\";\n  return pre;\n};\nrenderjson.set_icons = function(show, hide) {\n  renderjson.options.show = show;\n  renderjson.options.hide = hide;\n  return renderjson;\n};\nrenderjson.set_show_to_level = function(level) {\n  renderjson.options.show_to_level =\n    typeof level == \"string\" && level.toLowerCase() === \"all\" ? Number.MAX_VALUE : level;\n  return renderjson;\n};\nrenderjson.set_max_string_length = function(length) {\n  renderjson.options.max_string_length =\n    typeof length == \"string\" && length.toLowerCase() === \"none\" ? Number.MAX_VALUE : length;\n  return renderjson;\n};\nrenderjson.set_sort_objects = function(sort_bool) {\n  renderjson.options.sort_objects = sort_bool;\n  return renderjson;\n};\nrenderjson.set_replacer = function(replacer) {\n  renderjson.options.replacer = replacer;\n  return renderjson;\n};\nrenderjson.set_key_formatter = function(key_formatter) {\n  renderjson.options.key_formatter = key_formatter;\n  return renderjson;\n};\nrenderjson.set_collapse_msg = function(collapse_msg) {\n  renderjson.options.collapse_msg = collapse_msg;\n  return renderjson;\n};\nrenderjson.set_property_list = function(prop_list) {\n  renderjson.options.property_list = prop_list;\n  return renderjson;\n};\n// Backwards compatiblity. Use set_show_to_level() for new code.\nrenderjson.set_show_by_default = function(show) {\n  renderjson.options.show_to_level = show ? Number.MAX_VALUE : 0;\n  return renderjson;\n};\nrenderjson.options = {};\nrenderjson.set_icons(\"⊕\", \"⊖\");\nrenderjson.set_show_by_default(false);\nrenderjson.set_sort_objects(false);\nrenderjson.set_max_string_length(\"none\");\nrenderjson.set_replacer(void 0);\nrenderjson.set_key_formatter(void 0);\nrenderjson.set_property_list(void 0);\nrenderjson.set_collapse_msg(function(len) {\n  return len + \" item\" + (len == 1 ? \"\" : \"s\");\n});\n","/* eslint-disable */\n/*\n  Leaflet.AwesomeMarkers, a plugin that adds colorful iconic markers for Leaflet, based on the Font Awesome icons\n  (c) 2012-2013, Lennard Voogdt\n\n  http://leafletjs.com\n  https://github.com/lvoogdt\n*/\n\n\nimport * as L from 'leaflet';\nimport { icon as faIcon } from '@fortawesome/fontawesome-svg-core';\n\nconst AwesomeMarkers: any = {};\n\nAwesomeMarkers.version = \"2.0.1\";\n\nAwesomeMarkers.Icon = L.Icon.extend({\n  options: {\n    iconSize: [35, 45],\n    iconAnchor: [17, 42],\n    popupAnchor: [1, -32],\n    shadowAnchor: [10, 12],\n    shadowSize: [36, 16],\n    className: \"awesome-marker\",\n    prefix: \"glyphicon\",\n    spinClass: \"fa-spin\",\n    extraClasses: \"\",\n    icon: \"home\",\n    markerColor: \"blue\",\n    iconColor: \"white\"\n  },\n\n  initialize: function(options: any) {\n    options = L.Util.setOptions(this, options);\n  },\n\n  createIcon: function() {\n    var div = document.createElement(\"div\"),\n      options = this.options;\n\n    if (options.icon) {\n      div.innerHTML = faIcon(options.icon, {\n        styles: { color: options.iconColor },\n      }).html[0];\n    }\n\n    if (options.bgPos) {\n      div.style.backgroundPosition = -options.bgPos.x + \"px \" + -options.bgPos.y + \"px\";\n    }\n\n    this._setIconStyles(div, \"icon-\" + options.markerColor);\n    return div;\n  },\n\n  _createInner: function() {\n    var iconClass,\n      iconSpinClass = \"\",\n      iconColorClass = \"\",\n      iconColorStyle = \"\",\n      options = this.options;\n\n    if (options.icon.slice(0, options.prefix.length + 1) === options.prefix + \"-\") {\n      iconClass = options.icon;\n    } else {\n      iconClass = options.prefix + \"-\" + options.icon;\n    }\n\n    if (options.spin && typeof options.spinClass === \"string\") {\n      iconSpinClass = options.spinClass;\n    }\n\n    if (options.iconColor) {\n      if (options.iconColor === \"white\" || options.iconColor === \"black\") {\n        iconColorClass = \"icon-\" + options.iconColor;\n      } else {\n        iconColorStyle = \"style='color: \" + options.iconColor + \"' \";\n      }\n    }\n\n    return (\n      \"<i \" +\n      iconColorStyle +\n      \"class='\" +\n      options.extraClasses +\n      \" \" +\n      options.prefix +\n      \" \" +\n      iconClass +\n      \" \" +\n      iconSpinClass +\n      \" \" +\n      iconColorClass +\n      \"'></i>\"\n    );\n  },\n\n  _setIconStyles: function(img: HTMLElement, name: string) {\n    var options = this.options,\n      size = L.point(options[name === \"shadow\" ? \"shadowSize\" : \"iconSize\"]),\n      anchor;\n\n    if (name === \"shadow\") {\n      anchor = L.point(options.shadowAnchor || options.iconAnchor);\n    } else {\n      anchor = L.point(options.iconAnchor);\n    }\n\n    if (!anchor && size) {\n      anchor = size.divideBy(2);\n    }\n\n    img.className = \"awesome-marker-\" + name + \" \" + options.className;\n\n    if (anchor) {\n      img.style.marginLeft = -anchor.x + \"px\";\n      img.style.marginTop = -anchor.y + \"px\";\n    }\n\n    if (size) {\n      img.style.width = size.x + \"px\";\n      img.style.height = size.y + \"px\";\n    }\n  },\n\n  createShadow: function() {\n    var div = document.createElement(\"div\");\n\n    this._setIconStyles(div, \"shadow\");\n    return div;\n  }\n});\n\nconst ExportAwesomeMarkers = {\n  icon: (options: any) => {\n    return new AwesomeMarkers.Icon(options);\n  }\n};\n\nexport default ExportAwesomeMarkers;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"summary\"},_vm._l(((_vm.features || [])),function(feature,index){return _c('li',{key:feature.properties.id,on:{\"click\":function($event){return _vm.featureClicked(feature, index)}}},[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(index)),_c('span',{staticClass:\"hidden_brace\"},[_vm._v(\") \")])]),_c('span',{staticClass:\"icon\"},[_c('font-awesome-icon',{attrs:{\"icon\":_vm.iconForLayer(feature.properties.layer)}})],1),_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(feature.properties.label))])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\nimport {\n  faUniversity,\n  faGavel,\n  faDrawPolygon,\n  faMapPin,\n  faGlobe,\n  faVectorSquare,\n  faObjectUngroup,\n  faFlagCheckered,\n  faMapMarker,\n  faEnvelope,\n  faCrosshairs,\n  faRoad,\n  faQuestion,\n} from '@fortawesome/free-solid-svg-icons';\nimport { faCuttlefish } from '@fortawesome/free-brands-svg-icons';\nimport { library } from '@fortawesome/fontawesome-svg-core';\n\n@Component({\n  components: { FontAwesomeIcon },\n})\nexport default class ResultsSummary extends Vue {\n  @Prop() private features!: GeoJSON.Feature[];\n\n  constructor() {\n    super();\n    [\n      faCuttlefish,\n      faUniversity,\n      faGavel,\n      faDrawPolygon,\n      faMapPin,\n      faGlobe,\n      faVectorSquare,\n      faObjectUngroup,\n      faFlagCheckered,\n      faMapMarker,\n      faEnvelope,\n      faCrosshairs,\n      faRoad,\n      faQuestion,\n    ].forEach((i) => library.add(i));\n  }\n\n  featureClicked(feature: GeoJSON.Feature, index: number) {\n    this.$emit('feature-clicked', { feature, index });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  iconForLayer(layer: string) {\n    switch (layer) {\n      case 'locality':\n        return faUniversity;\n      case 'localadmin':\n        return faGavel;\n      case 'neighbourhood':\n        return faDrawPolygon;\n      case 'borough':\n        return faMapPin;\n      case 'county':\n        return faCuttlefish;\n      case 'macrocounty':\n        return faGlobe;\n      case 'region':\n        return faVectorSquare;\n      case 'macroregion':\n        return faObjectUngroup;\n      case 'country':\n        return faFlagCheckered;\n      case 'venue':\n        return faMapMarker;\n      case 'address':\n        return faEnvelope;\n      case 'mixed':\n        return faCrosshairs;\n      case 'street':\n        return faRoad;\n      default:\n        return faQuestion;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSummary.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSummary.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResultsSummary.vue?vue&type=template&id=6825c932&scoped=true&\"\nimport script from \"./ResultsSummary.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResultsSummary.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResultsSummary.vue?vue&type=style&index=0&id=6825c932&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6825c932\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport renderjson from '@/vendor/renderjson';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport * as L from 'leaflet';\n\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport {\n  faMap,\n  faObjectUngroup,\n  faDotCircle,\n  faMapSigns,\n  faLanguage,\n  faCrosshairs,\n  faExpand,\n} from '@fortawesome/free-solid-svg-icons';\nimport { faWeebly } from '@fortawesome/free-brands-svg-icons';\nimport { library } from '@fortawesome/fontawesome-svg-core';\n\nimport { latLng } from 'leaflet';\n\nimport AwesomeMarkers from '@/vendor/leaflet.awesome-markers';\nimport '@/vendor/leaflet.awesome-markers.css';\n\nimport 'leaflet-contextmenu/dist/leaflet.contextmenu';\nimport 'leaflet-contextmenu/dist/leaflet.contextmenu.css';\n\nimport 'leaflet-easybutton/src/easy-button';\nimport 'leaflet-easybutton/src/easy-button.css';\n\nimport { PeliasResponse } from '../pelias-types';\n\nimport ResultsSummary from './ResultsSummary.vue';\n\nconst icons = [\n  faWeebly,\n  faDotCircle,\n  faMapSigns,\n  faLanguage,\n  faMap,\n  faObjectUngroup,\n  faCrosshairs,\n  faExpand,\n];\nicons.forEach((i) => library.add(i));\n\nfunction parseHTML(s: string): HTMLElement {\n  const tmp = document.implementation.createHTMLDocument();\n  tmp.body.innerHTML = s;\n  return tmp.body.children[0] as HTMLElement;\n}\n\nfunction makeLink(url: string, value: string): HTMLAnchorElement {\n  const a = parseHTML(`<a>\"${value}\"</a>`) as HTMLAnchorElement;\n  a.href = url;\n  return a;\n}\n\nfunction maybeLinkifyGid(value: string, linkText?: string): Element | string {\n  if (typeof value === 'string' && value.startsWith('whosonfirst:')) {\n    const parts = value.split(':');\n    const id = parts[parts.length - 1];\n    return makeLink(`https://spelunker.whosonfirst.org/id/${id}`, linkText || value);\n  }\n  // \"gid\": \"openaddresses:address:us/tn/statewide:db4775140901eba0\",\n  if (typeof value === 'string' && value.startsWith('openaddresses:')) {\n    const parts = value.split(':');\n    if (parts.length > 2) {\n      const filepath = parts[2];\n      return parseHTML(\n        `<span>\"${parts[0]}:${\n          parts[1]\n        }:<a href=\"https://github.com/openaddresses/openaddresses/blob/master/sources/${filepath}.json\">${\n          parts[2]\n        }</a>:${parts.slice(3).join(':')}\"</span>`,\n      );\n    }\n  }\n  // gid: openstreetmap:address:node/2601893113\n  const OSM_PREFX = 'openstreetmap:';\n  if (typeof value === 'string' && value.startsWith(OSM_PREFX)) {\n    const gidParts = value.split(':');\n    if (gidParts.length !== 3) {\n      return value;\n    }\n\n    return makeLink(`https://www.openstreetmap.org/${gidParts[2]}`, value);\n  }\n\n  // \"gid\": \"geonames:locality:4887398\", --> https://www.geonames.org/4887398\n  if (typeof value === 'string' && value.startsWith('geonames:')) {\n    const parts = value.split(':');\n    const geonameId = parts[parts.length - 1];\n    return makeLink(`https://www.geonames.org/${geonameId}`, value);\n  }\n\n  return value;\n}\n\nfunction renderjsonReplacer(isDebug: boolean, key: string, value: string, containingObject: any) {\n  // linkify all urls\n  if (typeof value === 'string' && (value.startsWith('http:') || value.startsWith('http://'))) {\n    return makeLink(value, value);\n  }\n\n  if (key === 'id') {\n    // link id to /place\n    const placeLink = `${window.location.pathname}#/v1/place?ids=${encodeURIComponent(\n      containingObject.gid,\n    )}&debug=${isDebug ? 1 : 0}`;\n    return makeLink(placeLink, value);\n  }\n\n  // if value is a gid (like contintent_gid or locality_gid), linkify it to source, otherwise\n  // leave it alone\n  return maybeLinkifyGid(value);\n}\n\nconst markers = {\n  default: AwesomeMarkers.icon({\n    icon: faDotCircle,\n    markerColor: 'purple',\n  }),\n  geonames: AwesomeMarkers.icon({\n    icon: faMapSigns,\n    markerColor: 'darkpurple',\n  }),\n  wof: AwesomeMarkers.icon({\n    icon: faWeebly,\n    markerColor: 'green',\n  }),\n  openstreetmap: AwesomeMarkers.icon({\n    icon: faMap,\n    markerColor: 'red',\n  }),\n  openaddresses: AwesomeMarkers.icon({\n    icon: faLanguage,\n    markerColor: 'orange',\n  }),\n  quattroshapes: AwesomeMarkers.icon({\n    icon: faObjectUngroup,\n    markerColor: 'darkgreen',\n  }),\n  focus: AwesomeMarkers.icon({\n    icon: faCrosshairs,\n    markerColor: 'cadetblue',\n  }),\n};\n\n@Component({\n  components: { FontAwesomeIcon, ResultsSummary },\n})\nexport default class ViewColumn extends Vue {\n  @Prop() private body!: PeliasResponse;\n\n  @Prop() private url!: string;\n\n  @Prop() private numHosts!: number;\n\n  @Prop() private host!: string;\n\n  @Prop() private updateHash!: (s: string) => void;\n\n  private renderedJson: any = null;\n\n  private summary = '';\n\n  mapOptions = {\n    scrollWheelZoom: false,\n    contextmenu: true,\n    contextmenuWidth: 140,\n    contextmenuItems: [\n      {\n        text: 'Search OSM',\n        callback: ({ latlng }: { latlng: L.LatLng }) => {\n          window.open(\n            `https://www.openstreetmap.org/query?lat=${latlng.lat}&lon=${latlng.lng}#map=15/${latlng.lat}/${latlng.lng}`,\n          );\n        },\n      },\n      {\n        text: 'Look up in Pelias Spatial Service',\n        callback: ({ latlng }: { latlng: L.LatLng }) => {\n          window.open(\n            `https://spatial.demo.geocode.earth/explore/pip#12/${latlng.lat}/${latlng.lng}`,\n          );\n        },\n      },\n      '-',\n      {\n        text: 'Reverse Geocode (coarse)',\n        callback: ({ latlng }: { latlng: L.LatLng }) => {\n          this.updateHash(`#/v1/reverse?point.lat=${latlng.lat}&point.lon=${latlng.lng}&layers=coarse`);\n        },\n      },\n      {\n        text: 'Reverse Geocode (fine)',\n        callback: ({ latlng }: { latlng: L.LatLng }) => {\n          this.updateHash(`#/v1/reverse?point.lat=${latlng.lat}&point.lon=${latlng.lng}`);\n        },\n      },\n    ],\n  };\n\n  center = latLng(47.41322, -1.219482);\n\n  tileUrl =\n    '//{s}.tile.jawg.io/jawg-terrain/{z}/{x}/{y}.png?access-token=t6fAKnvaPdPCucraY88YwlKjBfUHqBMvvZBIWlcp1Z9Z5FVtA02uWo6Dc9DGB2JO';\n\n  attribution =\n    'Map &copy; <a href=\"http://jawg.io\" target=\"_blank\" class=\"jawg-attrib\"><b>Jawg</b>Maps</a> | Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\" class=\"osm-attrib\">OpenStreetMap contributors</a>';\n\n  centerFeatures(features: GeoJSON.FeatureCollection) {\n    const geoJsonLayer = L.geoJSON(features);\n\n    let bounds = geoJsonLayer.getBounds();\n\n    // pad bounds to the marker fit on screen\n    try {\n      if (bounds) {\n        bounds = bounds.pad(0.5);\n        this.getMap().fitBounds(bounds);\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n    }\n  }\n\n  mounted() {\n    // jawg url is specified with \"//\" which fails when loading built index.html\n    // as a file\n    if (window.location.protocol === 'file:' && !this.tileUrl.includes('http:')) {\n      this.tileUrl = `http:${this.tileUrl}`;\n    }\n\n    const isDebug = Boolean(this.body?.geocoding?.debug);\n    renderjson.set_replacer(renderjsonReplacer.bind(null, isDebug));\n    renderjson.set_show_to_level('all');\n\n    (this.$refs.renderedJson as Element).appendChild(\n      renderjson(this.body, `response-${this.host}`),\n    );\n    this.getMap().invalidateSize();\n    this.centerFeatures(this.body);\n    const stateChangingButton = L.easyButton({\n      states: [\n        {\n          stateName: 'taller-map',\n          icon: '<span>↕</span>',\n          title: 'toggle taller map',\n          onClick(btn, map) {\n            map.getContainer().classList.toggle('tall');\n            if (map.getContainer().classList.contains('tall')) {\n              // eslint-disable-next-line no-param-reassign\n              map.getContainer().style.height = `${window.outerHeight * 0.4}px`;\n            } else {\n              // eslint-disable-next-line no-param-reassign\n              map.getContainer().style.height = '200px';\n            }\n            map.invalidateSize();\n          },\n        },\n      ],\n    });\n\n    stateChangingButton.addTo(this.getMap());\n\n    this.addBoundingBoxes();\n    this.addMarkers();\n  }\n\n  addMarkers(this: ViewColumn) {\n    const geojson = this.body;\n\n    // all custom icon logic\n    const pointToLayer = (f: GeoJSON.Feature, latlon: L.LatLng) => {\n      let i = markers.default;\n\n      // custom icon created from geojson properties\n      if (f.properties?.icon) {\n        i = AwesomeMarkers.icon({\n          icon: f.properties.icon,\n          markerColor: f.properties['marker-color'] || 'red',\n        });\n      } else {\n        switch (f.properties?.source) {\n          case 'openstreetmap':\n          case 'osm':\n            i = markers.openstreetmap;\n            break;\n          case 'whosonfirst':\n          case 'wof':\n            i = markers.wof;\n            break;\n          case 'geonames':\n          case 'gn':\n            i = markers.geonames;\n            break;\n          case 'quattroshapes':\n          case 'qs':\n            i = markers.quattroshapes;\n            break;\n          case 'openaddresses':\n          case 'oa':\n            i = markers.openaddresses;\n            break;\n          default:\n            i = markers.default;\n            break;\n        }\n      }\n\n      const popupHtml = parseHTML(`<p>\n          <strong style=\"font-size:14px\">\n            Result #${f.properties?.index}\n            <br/>\n            ${f.properties?.label}\n          </strong>\n          <br />\n          ${f.properties?.gid}\n          <br />\n          <a class=\"scrollToFeature\">Scroll to feature</a>\n        </p>`);\n      (popupHtml.querySelector('.scrollToFeature')! as HTMLAnchorElement).addEventListener(\n        'click',\n        () => {\n          this.featureClicked({ feature: f, index: f.properties?.index, zoomTo: false });\n        },\n      );\n\n      return L.marker(latlon, {\n        title: `${f.properties?.gid} - ${f.properties?.label}`,\n        icon: i,\n      }).bindPopup(popupHtml);\n    };\n\n    geojson.features.forEach((feature: GeoJSON.Feature, index: number) => {\n      if (feature.properties) {\n        // eslint-disable-next-line no-param-reassign\n        feature.properties.index = index;\n      }\n    });\n\n    const style = (f: any) => f.properties;\n    L.geoJSON(geojson, {\n      pointToLayer,\n      style,\n    }).addTo(this.getMap());\n\n    // add a red marker to map to indicate the focus centre point.\n    if (geojson?.geocoding.query) {\n      const { query } = geojson.geocoding;\n      if (query && query['focus.point.lat'] && query['focus.point.lon']) {\n        const focusPoint = new L.LatLng(query['focus.point.lat'], query['focus.point.lon']);\n\n        const marker = L.marker(focusPoint, {\n          title: `focus point: lat: ${focusPoint.lat}, lon: ${focusPoint.lng}`,\n          icon: markers.focus,\n        }).bindPopup(\n          `<p>\n          <strong style=\"font-size:14px\">\n            Foucs point: lat: ${focusPoint.lat}, lon: ${focusPoint.lng}\n          </strong>\n          <br />\n        </p>`,\n        );\n        marker.addTo(this.getMap());\n      }\n    }\n  }\n\n  addBoundingBoxes() {\n    const style = {\n      stroke: true,\n      color: 'blue',\n      opacity: 0.5,\n      dashArray: '5, 5',\n      fillColor: 'blue',\n      fillOpacity: 0.0,\n      weight: 2,\n    };\n\n    const bboxLayer = new L.GeoJSON();\n    (this.body.features || []).forEach((feat) => {\n      if (feat?.bbox) {\n        const bounds = [\n          [feat.bbox[1], feat.bbox[0]],\n          [feat.bbox[3], feat.bbox[2]],\n        ];\n        const rect = new L.Rectangle(bounds as any, style);\n        rect.addTo(bboxLayer);\n      }\n    });\n    this.getMap().addLayer(bboxLayer);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getZoomLevelForLayer(layer: string) {\n    switch (layer) {\n      case 'locality':\n      case 'localadmin':\n      case 'neighbourhood':\n      case 'borough':\n      case 'county':\n      case 'macrocounty':\n        return 10;\n      case 'region':\n      case 'macroregion':\n      case 'country':\n        return 6;\n      case 'venue':\n      case 'address':\n      case 'mixed':\n      case 'street':\n        return 12;\n      default:\n        return 6;\n    }\n  }\n\n  featureClicked({\n    feature,\n    index,\n    zoomTo,\n  }: {\n    feature: GeoJSON.Feature;\n    index: number;\n    zoomTo: boolean;\n  }) {\n    const geojson = L.geoJSON(feature);\n    const bounds = geojson.getBounds();\n\n    if (zoomTo) {\n      if (feature.geometry.type === 'Point') {\n        this.getMap().setView(\n          bounds.getCenter(),\n          this.getZoomLevelForLayer(feature.properties?.layer || ''),\n        );\n      } else {\n        this.getMap().fitBounds(bounds);\n      }\n    }\n\n    const previouslyHighlightedElemented = document.getElementsByClassName('highlightedFeature');\n    // eslint-disable-next-line no-restricted-syntax\n    for (const highlightedFeature of previouslyHighlightedElemented) {\n      highlightedFeature.classList.remove('highlightedFeature');\n    }\n\n    const elem = document.getElementById(`response-${this.host}.features.${index}`);\n    if (elem) {\n      elem.scrollIntoView();\n      elem.classList.add('highlightedFeature');\n    }\n  }\n\n  getMap(): L.Map {\n    return ((this.$refs.mymap as unknown) as { mapObject: L.Map }).mapObject;\n  }\n\n  copyHelper(jsonToCopy: any, copyName: string) {\n    /* Get the text field */\n    const copyText = this.$refs.hiddenCopyInput as HTMLInputElement;\n    copyText.value = JSON.stringify(jsonToCopy, null, 4);\n\n    /* Select the text field */\n    copyText.select();\n    copyText.setSelectionRange(0, 9999999); /* For mobile devices */\n\n    /* Copy the text inside the text field */\n    document.execCommand('copy');\n\n    /* Alert the copied text */\n    this.$bvToast.toast(`${copyName} copied to clipboard`, {\n      title: 'Status',\n      autoHideDelay: 1000,\n      appendToast: true,\n      variant: 'success',\n      toaster: 'b-toaster-bottom-center',\n    });\n  }\n\n  copyJson() {\n    this.copyHelper(this.body, 'JSON Response');\n  }\n\n  copyEsQuery() {\n    this.copyHelper(this.esQuery, 'ES Query');\n  }\n\n  get hasParsedQuery() {\n    return this.body?.geocoding?.query?.parsed_text;\n  }\n\n  runAsStructuredQuery() {\n    if (!this.hasParsedQuery) {\n      return;\n    }\n    const parsedParams: Record<string, string> = {\n      ...this.body.geocoding.query.parsed_text,\n    } as unknown as Record<string, string>;\n    if (parsedParams.street || parsedParams.housenumber) {\n      parsedParams.address = [parsedParams.housenumber, parsedParams.street, parsedParams.unit].join(' ');\n      delete parsedParams.street;\n      delete parsedParams.housenumber;\n      delete parsedParams.unit;\n    }\n\n    if (parsedParams.state) {\n      parsedParams.region = parsedParams.state;\n      delete parsedParams.state;\n    }\n\n    if (parsedParams.city) {\n      parsedParams.locality = parsedParams.city;\n      delete parsedParams.city;\n    }\n\n    if (parsedParams.subject) {\n      parsedParams.venue = parsedParams.subject;\n      delete parsedParams.subject;\n    }\n\n    const urlSearchParams = new URLSearchParams(parsedParams);\n    this.updateHash(`/v1/search/structured?${urlSearchParams.toString()}`);\n  }\n\n  get esQuery() {\n    const esReqEntries = this.body?.geocoding?.debug\n      ?.map((debugEntry) => (debugEntry['controller:search'] || {}).ES_req?.body)\n      .filter((e: any) => Boolean(e));\n    if (esReqEntries) {\n      return esReqEntries[0];\n    }\n    return '';\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewColumn.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewColumn.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewColumn.vue?vue&type=template&id=ec79312c&\"\nimport script from \"./ViewColumn.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewColumn.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ViewColumn.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('l-map',{ref:\"mymap\",staticStyle:{\"height\":\"50vh\",\"width\":\"100%\"},attrs:{\"zoom\":_vm.zoom,\"center\":_vm.pointLatLng || _vm.defaultCenter},on:{\"click\":_vm.addMarker}},[_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),(_vm.pointLatLng)?_c('l-marker',{attrs:{\"lat-lng\":_vm.pointLatLng}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  Component, Vue, Prop,\n} from 'vue-property-decorator';\nimport { latLng } from 'leaflet';\n\n@Component({})\nexport default class PointView extends Vue {\n  zoom = 5;\n\n  defaultCenter = latLng(47.41322, -1.219482);\n\n  url = '//{s}.tile.jawg.io/jawg-terrain/{z}/{x}/{y}.png?access-token=t6fAKnvaPdPCucraY88YwlKjBfUHqBMvvZBIWlcp1Z9Z5FVtA02uWo6Dc9DGB2JO';\n\n  attribution = 'Map &copy; <a href=\"http://jawg.io\" target=\"_blank\" class=\"jawg-attrib\"><b>Jawg</b>Maps</a> | Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\" class=\"osm-attrib\">OpenStreetMap contributors</a>';\n\n  pointLatLng: L.LatLng | null = null;\n\n  @Prop() lat!: number | null;\n\n  @Prop() lng!: number | null;\n\n  mounted() {\n    if (this.lat && this.lng) {\n      this.pointLatLng = latLng(this.lat, this.lng);\n    }\n  }\n\n  addMarker(event: {latlng: L.LatLng}) {\n    this.$emit('point-changed', event.latlng);\n    this.pointLatLng = event.latlng;\n  }\n\n  getMap(): L.Map {\n    return (this.$refs.mymap as unknown as {mapObject: L.Map}).mapObject;\n  }\n\n  invalidateSize() {\n    setTimeout(() => {\n      this.getMap().invalidateSize();\n    }, 100);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PointModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PointModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PointModal.vue?vue&type=template&id=29b873ac&\"\nimport script from \"./PointModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./PointModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { VueTagsInput, createTags } from '@johmun/vue-tags-input';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faMap, faCrosshairs } from '@fortawesome/free-solid-svg-icons';\n\nimport BackToTop from 'vue-backtotop';\n\nimport * as L from 'leaflet';\n\nimport * as _ from 'lodash';\n\n/* eslint-disable global-require */\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue';\n\n// app.js\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\n\nimport { Icon } from 'leaflet';\nimport { LMap, LTileLayer, LMarker } from 'vue2-leaflet';\nimport ViewColumn from './ViewColumn.vue';\nimport PointModal from './PointModal.vue';\nimport '../../node_modules/leaflet/dist/leaflet.css';\n\nimport '../main.css';\n\nVue.use(BackToTop);\n\nlibrary.add(faMap);\nlibrary.add(faCrosshairs);\n\nVue.config.productionTip = false;\n\nVue.use(BootstrapVue);\nVue.use(IconsPlugin);\n\nVue.component('l-map', LMap);\nVue.component('l-tile-layer', LTileLayer);\nVue.component('l-marker', LMarker);\n\ntype D = Icon.Default & {\n  _getIconUrl: string;\n};\n\n// eslint-disable-next-line no-underscore-dangle\ndelete (Icon.Default.prototype as D)._getIconUrl;\n\nIcon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\ntype Tag = {\n  text: string;\n};\n\nconst LNG_LAT_OPTION = 'lng/lat';\nconst LAT_LNG_OPTION = 'lat/lng';\n\n@Component({\n  components: {\n    PointModal,\n    VueTagsInput,\n    FontAwesomeIcon,\n    ViewColumn,\n  },\n})\nexport default class CompareView extends Vue {\n  @Prop() private isBuiltForApi!: boolean;\n\n  @Prop() private isBuiltForSpa!: boolean;\n\n  ids: string | null = '';\n\n  text: string | null = '';\n\n  private point: L.LatLng | null = null;\n\n  private pointStr: string | null = '';\n\n  private host = '';\n\n  private hosts: Tag[] = [];\n\n  private autocomplete = false;\n\n  private debug = '1';\n\n  private queryPath = '';\n\n  private extraParams = '';\n\n  private structured: Record<string, string | undefined | null> = {\n    venue: undefined,\n    address: undefined,\n    neighbourhood: undefined,\n    borough: undefined,\n    locality: undefined,\n    county: undefined,\n    region: undefined,\n    postalcode: undefined,\n    country: undefined,\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private responses: any[] = [];\n\n  private endpoint = '/v1/search';\n\n  private isDoingGeolocation = false;\n\n  pointOptions = [LNG_LAT_OPTION, LAT_LNG_OPTION];\n\n  pointPlaceholderText = 'Longitude, Latitude';\n\n  selectedPointOption = LNG_LAT_OPTION;\n\n  pointModalShown() {\n    (this.$refs.pointModal as PointModal).invalidateSize();\n  }\n\n  tagsChanged(newHosts: Tag[]) {\n    this.hosts = newHosts;\n    // ugh, for historical reasons, we save these in local storage as \"endpoints\"\n    window.localStorage.setItem('endpoints', this.hosts.map((h) => h.text).join(','));\n    this.onChange();\n  }\n\n  pointOptionsChanged(newOption: string) {\n    if (newOption === LNG_LAT_OPTION) {\n      this.pointPlaceholderText = 'Longitude, Latitude';\n    } else {\n      this.pointPlaceholderText = 'Latitude, Longitude';\n    }\n    this.selectedPointOption = newOption;\n\n    if (this.pointStr) {\n      this.onPointStringInputChange(this.pointStr);\n    }\n  }\n\n  parseQuery(query: string) {\n    const parts = query.split('?');\n    // eslint-disable-next-line prefer-destructuring\n    this.endpoint = parts[0];\n    const params = new URLSearchParams(parts[1]);\n\n    this.debug = params.get('debug') || '0';\n    params.delete('debug');\n\n    this.text = params.get('text');\n    params.delete('text');\n\n    this.ids = params.get('ids');\n    params.delete('ids');\n\n    const parsePoint = (_prefix?: string) => {\n      const prefix = _prefix ? `${_prefix}.` : '';\n\n      const lat = params.get(`${prefix}point.lat`);\n      const lon = params.get(`${prefix}point.lon`);\n      if (!lat || !lon) {\n        return null;\n      }\n\n      params.delete(`${prefix}point.lat`);\n      params.delete(`${prefix}point.lon`);\n\n      const latlng = new L.LatLng(parseFloat(lat.trim()), parseFloat(lon.trim()));\n\n      this.pointStr = `${latlng.lng.toFixed(6)}, ${latlng.lat.toFixed(6)}`;\n      this.selectedPointOption = 'lng/lat';\n\n      return latlng;\n    };\n\n    this.point = parsePoint() || parsePoint('focus');\n\n    _.keys(this.structured).forEach((structuredKey) => {\n      this.structured[structuredKey] = params.get(structuredKey);\n      params.delete(structuredKey);\n    });\n\n    this.extraParams = params.toString();\n  }\n\n  getPathFromUrl(): string {\n    // If we're running in SPA mode with routing like\n    // http://localhost:8080/v1/search?text=San+Nicolas%2C+Peru&debug=0\n    if (this.isBuiltForSpa && window.location.pathname.length > 1) {\n      return `/v1/${window.location.href.split('/v1/')[1]}`;\n    }\n    // If we're running in non-SPA mode with routing like\n    // http://blackmad.github.io/pelias-compare/index.html#/v1/search?text=....\n    return window.location.hash.substr(1);\n  }\n\n  parseHash(_hash: string) {\n    let hash = _hash;\n    // As a hueristic, only decode as uri component if there's a uri\n    // escaped question mark in there. Copy and pasting a path onto the\n    // url hash string won't automatically do this\n    if (hash.includes('%3F')) {\n      hash = decodeURIComponent(hash);\n    }\n    if (hash.length > 0) {\n      this.parseQuery(hash);\n      this.onChange();\n      if (\n        (this.text && this.endpointUsesText)\n        || (this.point && this.isPointRequired)\n        || (this.ids && this.endpointUsesIds)\n      ) {\n        this.onSubmit();\n      }\n    }\n  }\n\n  created() {\n    // ugh, for historical reasons, we save these in local storage as \"endpoints\"\n    const hosts = window.localStorage.getItem('endpoints');\n    window.console.info('loaded from localStorage:', (hosts || '').split(',').join(', '));\n    if (typeof hosts === 'string') {\n      if (hosts !== '') {\n        this.hosts = createTags(hosts.split(','));\n      }\n    } else {\n      window.localStorage.setItem('endpoints', '');\n    }\n    if (this.hosts.length === 0) {\n      if (this.isBuiltForApi) {\n        this.hosts = createTags([`${window.location.protocol}//${window.location.host}`]);\n      } else {\n        this.hosts = createTags(['https://api.geocode.earth', 'https://api.dev.geocode.earth']);\n      }\n    }\n\n    this.parseHash(this.getPathFromUrl());\n\n    window.addEventListener(\n      'hashchange',\n      () => {\n        this.parseHash(this.getPathFromUrl());\n      },\n      false,\n    );\n  }\n\n  getParams() {\n    const params = new URLSearchParams(`?${this.extraParams}`);\n\n    if (this.isStructured) {\n      _.forEach(this.structured, (value, key) => {\n        if (value) {\n          params.set(key, (value as unknown) as string);\n        }\n      });\n    }\n\n    if (this.point && this.endpointUsesPoint) {\n      if (this.endpointUsesFocus) {\n        params.set('focus.point.lat', this.point.lat.toString());\n        params.set('focus.point.lon', this.point.lng.toString());\n      } else {\n        params.set('point.lat', this.point.lat.toString());\n        params.set('point.lon', this.point.lng.toString());\n      }\n    }\n\n    if (this.text && this.endpointUsesText) {\n      params.set('text', this.text);\n    }\n\n    if (this.ids && this.endpointUsesIds) {\n      params.set('ids', this.ids);\n    }\n\n    if (this.debug !== undefined && this.debug && this.debug !== '0') {\n      params.set('debug', this.debug);\n    }\n    return params;\n  }\n\n  // We need this because checkboxes don't seem to sync before calling change\n  // unlike text fields\n  onDebugChange(v: string) {\n    this.debug = v;\n    this.onChange();\n  }\n\n  // We need this because checkboxes don't seem to sync before calling change\n  // unlike text fields\n  onEndpointChange(v: string) {\n    this.endpoint = v;\n    this.onChange();\n  }\n\n  onPointStringInputChange(v: string) {\n    const parseToParts = () => {\n      if (v.includes('{') || v.includes('[')) {\n        const match = v.match(/([+-]?\\d+\\.\\d+)[^\\d]+([+-]?\\d+\\.\\d+)/);\n        if (!match) {\n          // eslint-disable-next-line no-alert\n          window.alert(`Could not parse coordinates from ${v}`);\n          throw new Error('Could not parse coordinates');\n        }\n        // assume this is coming from geojson so it's lng/lat\n        this.selectedPointOption = LNG_LAT_OPTION;\n        return [Number.parseFloat(match[1]), Number.parseFloat(match[2])];\n      }\n      const parts = v.split(',');\n\n      const part1 = parseFloat(parts[0].trim());\n      const part2 = parseFloat(parts[1].trim());\n      return [part1, part2];\n    };\n\n    const [part1, part2] = parseToParts();\n\n    if (this.selectedPointOption === LNG_LAT_OPTION) {\n      this.point = new L.LatLng(part2, part1);\n    } else {\n      this.point = new L.LatLng(part1, part2);\n    }\n\n    this.onChange();\n  }\n\n  updatePoint(point: L.LatLng) {\n    this.point = point;\n    this.pointChanged();\n  }\n\n  pointChanged() {\n    if (!this.point) {\n      return;\n    }\n    if (this.selectedPointOption === LNG_LAT_OPTION) {\n      this.pointStr = `${this.point.lng},${this.point.lat}`;\n    } else {\n      this.pointStr = `${this.point.lat},${this.point.lng}`;\n    }\n    this.onChange();\n  }\n\n  updateHashFromChild(queryPath: string) {\n    this.parseHash(queryPath);\n\n    this.onSubmit();\n  }\n\n  updateHash(queryPath: string) {\n    if (this.isBuiltForSpa) {\n      window.history.pushState({}, '', queryPath);\n    } else {\n      window.history.pushState({}, '', `#${queryPath}`);\n    }\n\n    document.title = `Pelias Compare Tool: ${this.text || this.ids || this.point || this.endpoint}`;\n\n    this.$forceUpdate();\n  }\n\n  onChange() {\n    const params = this.getParams();\n\n    this.queryPath = `${this.endpoint}?${params.toString()}`;\n\n    this.updateHash(this.queryPath);\n  }\n\n  get prettyExtraParams() {\n    return decodeURIComponent(this.extraParams).replace(/\\+/g, ' ');\n  }\n\n  set prettyExtraParams(humanReadableExtraParams: string) {\n    this.extraParams = humanReadableExtraParams;\n  }\n\n  get prettyQueryPath() {\n    return decodeURIComponent(this.queryPath).replace(/\\+/g, ' ');\n  }\n\n  set prettyQueryPath(humanReadablePath: string) {\n    this.parseQuery(humanReadablePath);\n    this.onChange();\n    this.queryPath = humanReadablePath;\n  }\n\n  // get your own api key for free at https://geocode.earth/\n  // to use your own key, open the browsr console and enter\n  // the key in your browser localstorage and refresh the page:\n  // > localStorage.setItem('api_key:geocode.earth', 'ge-aaaaaaaaaaaaaaaa');\n  getKey = (domain: string) => {\n    const sections = domain.split('.');\n    for (let i = 0; i < sections.length - 1; i += 1) {\n      const host = sections.slice(i).join('.');\n      const key = window.localStorage.getItem(`api_key:${host}`);\n      if (typeof key === 'string' && key.length) {\n        window.console.info(\n          `loaded key for domain '${domain}' from localStorage: 'api_key:${host}'`,\n        );\n        return key;\n      }\n    }\n    // if no personal key is found, then\n    // use the geocode.earth 'compare app' key\n    // which has restrictive daily limits due to\n    // frequent abuse.\n    return 'ge-1e618cf3d7bd023d';\n  };\n\n  onSubmit() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const responsePromises: Promise<any>[] = this.hosts.map(async (_host: Tag) => {\n      let host = _host.text;\n      if (host.endsWith('/')) {\n        host = host.substring(0, host.length - 1);\n      }\n\n      let { queryPath } = this;\n\n      // eslint-disable-next-line no-prototype-builtins\n      if (!queryPath.includes('api_key')) {\n        const key = this.getKey(host);\n        if (key) {\n          // eslint-disable-next-line @typescript-eslint/camelcase\n          queryPath += `&api_key=${key}`;\n        }\n      }\n\n      const urlWithParams = `${host}${queryPath}`;\n\n      // eslint-disable-next-line prefer-const\n      let { status, data } = await fetch(urlWithParams, {\n        method: 'GET',\n        headers: { Accept: 'application/json', 'X-Requested-With': '' },\n      })\n        .then(async (response) => ({ data: await response.json(), status: response.status }))\n        .catch((err) => {\n          window.console.warn(err);\n          return {\n            status: '',\n            data: {\n              error: err,\n            },\n          };\n        });\n\n      if (!data || !data.geocoding) {\n        // mock response to reuse the UI logic\n\n        let message = 'failed to load json';\n        if (data && data.error) {\n          message = data.error;\n        }\n\n        data = {\n          geocoding: {\n            errors: [`${status} ${message}`],\n          },\n        };\n      }\n\n      return {\n        url: urlWithParams,\n        status,\n        host,\n        body: data,\n        bodyString: `${JSON.stringify(data, null, 2)}\\n\\n`,\n      };\n    });\n    Promise.all(responsePromises)\n      .then((r) => {\n        this.responses = r;\n      })\n      .catch((e) => {\n        window.console.error(e);\n      });\n  }\n\n  get endpointUsesText() {\n    return ['/v1/search', '/v1/autocomplete'].includes(this.endpoint);\n  }\n\n  get endpointUsesIds() {\n    return ['/v1/place'].includes(this.endpoint);\n  }\n\n  get isPointRequired() {\n    return this.endpoint === '/v1/reverse';\n  }\n\n  get isStructured() {\n    return this.endpoint === '/v1/search/structured';\n  }\n\n  get endpointUsesPoint() {\n    return ['/v1/search', '/v1/autocomplete', '/v1/search/structured', '/v1/reverse'].includes(\n      this.endpoint,\n    );\n  }\n\n  get endpointUsesFocus() {\n    return ['/v1/search', '/v1/autocomplete', '/v1/search/structured'].includes(this.endpoint);\n  }\n\n  get pointLabel() {\n    if (this.endpointUsesFocus) {\n      return 'Focus';\n    }\n    return 'Point';\n  }\n\n  get pointLat() {\n    return this.point?.lat;\n  }\n\n  get pointLng() {\n    return this.point?.lng;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  get isGeolocationSupported() {\n    return window.location.protocol === 'https:' && navigator.geolocation;\n  }\n\n  doGeolocate() {\n    this.isDoingGeolocation = true;\n    navigator.geolocation.getCurrentPosition(\n      (pos: Position) => {\n        this.isDoingGeolocation = false;\n        const crd = pos.coords;\n        this.point = new L.LatLng(crd.latitude, crd.longitude);\n        this.pointChanged();\n      },\n      (error: any) => {\n        this.isDoingGeolocation = false;\n      },\n    );\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=69937ea4&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from '@/views/App.vue';\n\nnew Vue({\n  render: (h) => h(App, {\n    props: { isBuiltForApi: true },\n  }),\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSummary.vue?vue&type=style&index=0&id=6825c932&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSummary.vue?vue&type=style&index=0&id=6825c932&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewColumn.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewColumn.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}